<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: Redis | 龍昌博客]]></title>
  <link href="http://www.xefan.com/tags/redis/atom.xml" rel="self"/>
  <link href="http://www.xefan.com/"/>
  <updated>2016-06-26T14:00:18+08:00</updated>
  <id>http://www.xefan.com/</id>
  <author>
    <name><![CDATA[龍昌]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Redis集群配置实例]]></title>
    <link href="http://www.xefan.com/archives/84140.html"/>
    <updated>2015-01-14T18:11:36+08:00</updated>
    <id>http://www.xefan.com/archives/84140-Redis集群配置实例</id>
    <content type="html"><![CDATA[<p>通过配置 redis 的主从集群可将请求的负荷分散到多台服务器上。</p>

<p>redis 的集群配置比较简单，以下是一个例子。
假设有如下三台主机：</p>

<ul>
<li>172.17.0.11 (主)</li>
<li>172.17.0.12 (从)</li>
<li>172.17.0.13 (从)</li>
</ul>


<p>在从服务器上添加如下配置：</p>

<pre><code>slaveof 172.17.0.11 6379
</code></pre>

<p>如果主服务器设置了认证密码，那么还需要再添加一条配置：</p>

<pre><code>masterauth &lt;password&gt;
</code></pre>

<p>然后分别启动三台服务器的 redis 服务即可。</p>

<p>接下来连接主服务器添加一些数据测试一下。</p>

<pre><code>$ redis-cli -h 172.17.0.11
172.17.0.11:6379&gt; set foo1 bar1
OK
</code></pre>

<p>然后再连接到从服务器查询结果。</p>

<pre><code>$ redis-cli -h 172.17.0.12
172.17.0.12:6379&gt; get foo1
"bar1"
</code></pre>

<p>这时发现数据已经同步过来了。</p>

<p>注意：从服务器默认是只读的。如果需要设置为可写，可将 <code>slave-read-only</code> 设置项的值设为 <code>no</code> 即可。</p>
]]></content>
  </entry>
  
</feed>
