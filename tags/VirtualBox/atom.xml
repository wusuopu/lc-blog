<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: VirtualBox | 龍昌博客]]></title>
  <link href="http://www.xefan.com/tags/VirtualBox/atom.xml" rel="self"/>
  <link href="http://www.xefan.com/"/>
  <updated>2015-08-23T11:53:17+08:00</updated>
  <id>http://www.xefan.com/</id>
  <author>
    <name><![CDATA[龍昌]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[VirtualBox和VMware镜像文件互转方法详解]]></title>
    <link href="http://www.xefan.com/archives/83415.html"/>
    <updated>2010-09-29T00:00:00+08:00</updated>
    <id>http://www.xefan.com/archives/83415-VirtualBox和VMware镜像文件互转方法详解</id>
    <content type="html"><![CDATA[<p>VirtualBox和VMware都是功能强大的虚拟机软件，各有其优点，也各有缺点。有时实在是让人难以取舍，不知道该用那个好。下面说说这两个软件分别生成的不同格式的硬盘文件相互转换的方法。</p>

<p><span style="color: #ff0000"><strong>VMWare转VirtualBox </strong></span></p>

<p>方法一：<br/>
使用VBoxManage命令</p>

<p>Usage:<br/>
<em>VBoxManage clonehd          &lt;uuid&gt;|&lt;filename&gt;   &lt;outputfile&gt;<br/>
[&ndash;format VDI|VMDK|VHD|RAW|&lt;other&gt;]<br/>
[&ndash;variant Standard,Fixed,Split2G,Stream,ESX]<br/>
[&ndash;type normal|writethrough|immutable|shareable]<br/>
[&ndash;remember] [&ndash;existing]</em></p>

<p>例如：<br/>
<em>VBoxManage clonehd &lsquo;vmdk文件名&rsquo; &lsquo;vdi文件名&rsquo; &ndash;format VDI</em></p>

<p>命令执行过程中如出现如下错误：<br/>
ERROR: Cannot register the hard disk &lsquo;/stor/virtualbox/sv1/sv1-disk1.vdi&rsquo; with UUID {4e7a0d53-2775-438d-b383-79e69c5cf7f4} because a hard disk &lsquo;/stor/virtualbox/sv1/sv1-disk1.vdi&rsquo; with UUID {4e7a0d53-2775-438d-b383-79e69c5cf7f4} already exists in the media registry (&lsquo;/home/chao/.VirtualBox/VirtualBox.xml&rsquo;)<br/>
Details: code NS_ERROR_INVALID_ARG (0x80070057), component VirtualBox, interface IVirtualBox, callee nsISupports<br/>
Context: &ldquo;OpenHardDisk(Bstr(szFilenameAbs), AccessMode_ReadWrite, false, Bstr(&rdquo;&ldquo;), false, Bstr(&rdquo;&ldquo;), srcDisk.asOutParam())&rdquo; at line 628 of file VBoxManageDisk.cpp</p>

<p>则需要先将硬盘镜像从虚拟介质管理器中将镜像释放 并删除，然后再执行命令。</p>

<p>最新版本的VirtualBox是可以直接使用VMDK的。</p>

<p>方法二：<br/>
使用Qemu软件，下载地址：<a href="http://www.davereyn.co.uk/download.htm%EF%BC%88%E5%8F%AA%E8%83%BD%E5%9C%A8Windows%E4%B8%8B%E7%94%A8%EF%BC%89  ">http://www.davereyn.co.uk/download.htm%EF%BC%88%E5%8F%AA%E8%83%BD%E5%9C%A8Windows%E4%B8%8B%E7%94%A8%EF%BC%89  </a>
先用Qemu转VMDK为RAW格式，再转RAW为VDI格式。详情请自己看软件说明。</p>

<p><span style="color: #ff0000"><strong>VirtualBox转VMWare</strong></span></p>

<p>因為VirtualBox的转换方式有问题的关系，所以我們得通过两次转化的方法来进行…</p>

<p>第一次就是先把vdi轉成vmdk</p>

<p><em>VBoxManage clonehd &lsquo;vdi文件名&rsquo; &lsquo;vmdk文件名&rsquo; &ndash;format VMDK</em></p>

<p>經過漫長的等候<br/>
這裡轉換好之後….<br/>
再來就是第二次的轉換啦…</p>

<p><em>vmware-vdiskmanager -r &lsquo;原vmdk文件&rsquo; -t X &lsquo;转换后的vmdk文件&rsquo;</em></p>

<p>其中的X可以用<br/>
0 : 做成單一檔案(不預先配置)<br/>
1 : 切成2GB為一個檔案<br/>
2 : 預先配置檔案大小<br/>
3 : 預先配置以2GB為單位的檔案群<br/>
4 : 預先配置成ESX的格式<br/>
來代替</p>

<p>這裡我用的是”1″</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[VirtualBox 中共享文件夹的设置]]></title>
    <link href="http://www.xefan.com/archives/83314.html"/>
    <updated>2010-03-06T00:00:00+08:00</updated>
    <id>http://www.xefan.com/archives/83314-VirtualBox 中共享文件夹的设置</id>
    <content type="html"><![CDATA[<p>如果你需要从 VirtualBox 的客户机中使用主机里面的文件，那么通过共享文件夹的方式可以达成此目的。就以我的实际情况为例（VirtualBox 主机为 Linux，客户机为 Windows XP），说说设置的过程。</p>

<p>在 VirtualBox 的主机（即 Linux 系统中）执行下列命令： <code>VBoxManage sharedfolder add "VM name" -name "sharename" -hostpath "test"</code> 该命令中的 VM name 指定要使用共享文件夹的虚拟机名称，如 WinXP；sharename 为共享的文件夹名称，可任意设置，如 sharedfolder；test 为主机上需要共享的文件夹。下面给出一个该命令的实例： <code>VBoxManage sharedfolder add "WinXP" -name "downloads" -hostpath "homexudownloads"</code></p>

<p>启动虚拟机（本例为 Windows XP），点击开始菜单中的“运行”，并输入 cmd，然后执行以下指令： net use x: \vboxsvrsharename 这个指令中的 x: 为映射的驱动器符号；sharename 为上一步中所设置的共享文件夹名称。同样，我们给出一个实例供参考： net use Z: \vboxsvrdownloads 在命令成功执行后，通过资源管理器你便可以使用共享文件夹中的所有文件了。</p>

<p><a href="http://download.virtualbox.org/virtualbox/2.1.4/VBoxGuestAdditions_2.1.4.iso">http://download.virtualbox.org/virtualbox/2.1.4/VBoxGuestAdditions_2.1.4.iso</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[XP下Virtualbox虚拟Ubuntu共享文件夹设置]]></title>
    <link href="http://www.xefan.com/archives/83313.html"/>
    <updated>2010-03-06T00:00:00+08:00</updated>
    <id>http://www.xefan.com/archives/83313-XP下Virtualbox虚拟Ubuntu共享文件夹设置</id>
    <content type="html"><![CDATA[<p>环境：主机操作系统是Windows XP，虚拟机是Ubuntu，虚拟机是VirtualBox 2.1.0。</p>

<ol>
<li>安装增强功能包(Guest Additions)</li>
</ol>


<p>安装好Ubuntu后，运行Ubuntu并登录。然后在VirtualBox的菜单里选择&#8221;设备(Devices)&ldquo; -&gt; &#8220;安装增强功能包(Install Guest Additions)&#8221;。</p>

<p>你会发现在Ubuntu桌面上多出一个光盘图标，这张光盘默认被自动加载到了文件夹/media/cdom0。进入命令行终端，输入：</p>

<p>cd /media/cdom0</p>

<p>sudo ./VboxLinuxAdditions.run</p>

<p>开始安装工具包。安装完毕后会提示要重启Ubuntu。</p>

<ol>
<li>设置共享文件夹</li>
</ol>


<p>重启完成后点击&#8221;设备(Devices)&ldquo; -&gt; 共享文件夹(Shared Folders)菜单，添加一个共享文件夹，选项固定和临时是指该文件夹是否是持久的。共享名可以任取一个自己喜欢的，比如&#8221;gongxiang&#8221;，尽量使用英文名称。</p>

<ol>
<li>挂载共享文件夹</li>
</ol>


<p>重新进入虚拟Ubuntu，在命令行终端下输入：</p>

<p>sudo mkdir /mnt/shared</p>

<p>sudo mount -t vboxsf gongxiang /mnt/shared</p>

<p>其中&#8221;gongxiang&#8221;是之前创建的共享文件夹的名字。OK，现在Ubuntu和主机可以互传文件了。</p>

<p>假如您不想每一次都手动挂载，可以在/etc/fstab中添加一项</p>

<p>gongxiang /mnt/shared vboxsf rw,gid=100,uid=1000,auto 0 0</p>

<p>这样就能够自动挂载了。</p>

<ol>
<li>卸载的话使用下面的命令：</li>
</ol>


<p>sudo umount -f /mnt/shared</p>

<p>注意：</p>

<p>共享文件夹的名称千万不要和挂载点的名称相同。比如，上面的挂载点是/mnt/shared，如果共享文件夹的名字也是shared的话，在挂载的时候就会出现如下的错误信息(看<a href="http://www.virtualbox.org/ticket/2265">http://www.virtualbox.org/ticket/2265</a>)：</p>

<p>/sbin/mount.vboxsf: mounting failed with the error: Protocol error</p>

<p>原因分析可以看Tips on running Sun Virtualbox的Shared Folder on a Linux Guest节。</p>
]]></content>
  </entry>
  
</feed>
